"use strict";(self["webpackChunkpetsfamily_vue"]=self["webpackChunkpetsfamily_vue"]||[]).push([[97],{9097:function(e,s,a){a.r(s),a.d(s,{default:function(){return w}});var t=a(6252),i=a(3577);const l={class:"vh-100"},r={class:"container"},o={class:"row justify-content-center"},n=(0,t._)("h1",{class:"text-center"},"管理端登入",-1),d={class:"col-lg-4 py-3 border rounded rounded-5"},u={class:"mb-3"},m=(0,t._)("label",{for:"email",class:"form-label"},"帳號",-1),c={class:"mb-3"},p=(0,t._)("label",{for:"name",class:"form-label"},"密碼",-1),h=(0,t._)("button",{class:"btn btn-lg btn-primary w-100 mt-3 mb-3",type:"submit"}," 登入 ",-1),f=(0,t._)("a",{href:"#",class:"text-center"},"忘記密碼",-1);function v(e,s,a,v,b,_){const g=(0,t.up)("dog-side-icon"),w=(0,t.up)("loading"),y=(0,t.up)("Field"),k=(0,t.up)("ErrorMessage"),W=(0,t.up)("Form");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(w,{active:b.isLoading,class:"fs-1 text-secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(g),(0,t.Wm)(g),(0,t.Wm)(g)])),_:1},8,["active"]),(0,t._)("div",l,[(0,t._)("div",r,[(0,t._)("div",o,[n,(0,t._)("div",d,[(0,t.Wm)(W,{onSubmit:_.login},{default:(0,t.w5)((({errors:e})=>[(0,t._)("div",u,[m,(0,t.Wm)(y,{id:"username",name:"email",type:"text",class:(0,i.C_)(["form-control",{"is-invalid":e["email"]}]),modelValue:b.user.username,"onUpdate:modelValue":s[0]||(s[0]=e=>b.user.username=e),placeholder:"請輸入帳號",rules:"email|required"},null,8,["modelValue","class"]),(0,t.Wm)(k,{name:"email",class:"invalid-feedback"})]),(0,t._)("div",c,[p,(0,t.Wm)(y,{id:"password",name:"password",type:"password",placeholder:"請輸入密碼",rules:"required",class:(0,i.C_)(["form-control",{"is-invalid":e["帳號或密碼錯誤"]}]),modelValue:b.user.password,"onUpdate:modelValue":s[1]||(s[1]=e=>b.user.password=e)},null,8,["modelValue","class"]),(0,t.Wm)(k,{name:"password",class:"invalid-feedback"})]),h])),_:1},8,["onSubmit"]),f])])])])],64)}var b={inject:["emitter"],data(){return{user:{username:"",password:""},isLoading:!1}},methods:{login(){const e="https://vue3-course-api.hexschool.io/v2/admin/signin";this.isLoading=!0,this.$http.post(e,this.user).then((e=>{setTimeout((()=>{this.isLoading=!1}),1e3);const{token:s,expired:a}=e.data;document.cookie=`jhouToken=${s}; expires=${new Date(a)}`,this.$router.push("/admin/products"),e.data.success&&this.emitter.emit("push-message",{style:"primary",title:"登入成功，轉換頁面中!"})})).catch((()=>{this.emitter.emit("push-message",{style:"danger",title:"登入失敗，請確認輸入帳號或密碼正確性!"})}))}},mounted(){}},_=a(3744);const g=(0,_.Z)(b,[["render",v]]);var w=g}}]);
//# sourceMappingURL=97.156afb34.js.map