{"version":3,"file":"js/338.5702066f.js","mappings":"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","sources":["webpack://petsfamily-vue/./src/views/Front/ProductPageView.vue","webpack://petsfamily-vue/./src/views/Front/ProductPageView.vue?097d"],"sourcesContent":["<template>\n  <loading :active=\"isLoading\" class=\"fs-1 text-secondary\"><dog-side-icon/>\n  <dog-side-icon/><dog-side-icon/></loading>\n  <div class=\"container mt-9 mb-lg-8 mb-6\">\n    <div class=\"row\">\n      <div class=\"col-lg-6 col-sm-12 col-12 mb-lg-3 mb-md-3 mb-3\" data-aos=\"fade-right\">\n        <div class=\"rounded rounded-3 img-fluid\" style=\"height: 500px;\n          background-position: center center; background-size: cover;\"\n          :style=\"{\n            backgroundImage: `url(${product.imageUrl})`\n          }\"\n        >\n        </div>\n      </div>\n      <div class=\"col-lg-6 col-sm-12 col-12\" data-aos=\"fade-left\">\n        <div class=\"row\">\n          <div class=\"col-lg-12 mb-lg-5 mb-md-5 mb-5\">\n            <h5 class=\"mb-3 fs-2\">{{ product.title }}</h5>\n          </div>\n          <div class=\"col-lg-12 mb-lg-5 mb-md-5 mb-5\">\n            <p class=\"mb-3\">{{ product.description }}</p>\n            <p class=\"mb-3\">{{ product.content }}</p>\n          </div>\n          <div class=\"col-lg-12 mb-lg-5 mb-md-5 mb-5\">\n            <p class=\"fs-3\"\n              v-if=\"product.price === product.origin_price\">\n              NT{{ $filters.toThousands(product.price) }}\n            </p>\n            <div v-else class=\"col-lg-12 mmb-lg-5 mb-md-5 mb-5\">\n              <del class=\"fs-lg-1 text-success text-opacity-50 mb-3\">\n              NT{{ $filters.toThousands(product.origin_price) }}</del>\n              <span>NT{{ $filters.toThousands(product.price) }}</span>\n            </div>\n          </div>\n          <div class=\"col-lg-12 mb-lg-3 mb-md-3 mb-3\">\n            <div class=\"input-group input-group-sm mb-3 d-flex\">\n              <div class=\"input-group mb-3  w-50\">\n                <select\n                  class=\"form-select\"\n                  v-model=\"qty\">\n                  <option :value=\"num\" v-for=\"num in 20\" :key=\"`${num}-${product}`\"\n                  >{{ num }}\n                  </option>\n                </select>\n                <button type=\"button\" @click.prevent=\"addToCart(id, qty)\"\n                  class=\"btn btn-secondary ms-2\"\n                  :disabled=\"isLoadingItem === product.id\"\n                >\n                加入購物車</button>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-lg-12\">\n            <p>付款方式: 現金、線上刷卡、貨到付款、超商取貨付款、LINE PAY等</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- <div class=\"container-lg mb-lg-8 mb-6\">\n    <div class=\"row\">\n      <h2 class=\"text-center\">更多商品</h2>\n      <div class=\"col-4\" v-for=\"top in products\" :key=\"top.id\">\n        <div class=\"card\" style=\"width: 18rem;\">\n          <img :src=\"top.imageUrl\" class=\"card-img-top\" alt=\"...\">\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">{{ top.title }}</h5>\n            <p class=\"card-text\">{{ top.description }}</p>\n            <a href=\"#\" class=\"btn btn-primary\">加入購物車</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div> -->\n</template>\n\n<script>\nimport emitter from '@/assets/js/emitter';\n\nexport default {\n\n  inject: ['emitter'],\n  data() {\n    return {\n      products: [],\n      product: [],\n      qty: 1,\n      isLoadingItem: '',\n      cartData: {\n        carts: [],\n      },\n      isLoading: false,\n    };\n  },\n  methods: {\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products`;\n      this.$http.get(url)\n        .then((res) => {\n          this.products = res.data.products;\n        });\n    },\n    getProduct() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.isLoading = true;\n      this.$http.get(url)\n        .then((res) => {\n          setTimeout(() => {\n            this.isLoading = false;\n          }, 1000);\n          this.product = res.data.product;\n        });\n    },\n    addToCart(id, qty) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      const data = {\n        product_id: id,\n        qty,\n      };\n      this.isLoadingItem = id;\n      this.$http.post(url, { data })\n        .then((res) => {\n          emitter.emit('get-cart');\n          this.isLoadingItem = '';\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              style: 'primary',\n              title: '加入購物車成功',\n            });\n          }\n        })\n        .catch(() => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '加入購物車失敗',\n          });\n        });\n    },\n  },\n  mounted() {\n    this.id = this.$route.params.id;\n    this.getProducts();\n    this.getProduct();\n  },\n};\n</script>\n","import { render } from \"./ProductPageView.vue?vue&type=template&id=383060a4\"\nimport script from \"./ProductPageView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductPageView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\六角\\\\sideprojects\\\\petsfamily-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createVNode","_component_loading","active","$data","_component_dog_side_icon","style","imageUrl","_toDisplayString","title","description","content","price","origin_price","_createElementBlock","_ctx","toThousands","$event","_Fragment","_renderList","num","value","key","_hoisted_18","type","onClick","$options","disabled","id","_hoisted_19","_hoisted_20","inject","data","products","product","qty","isLoadingItem","cartData","carts","isLoading","methods","getProducts","url","this","$http","get","then","res","getProduct","setTimeout","addToCart","product_id","post","emitter","success","emit","catch","mounted","$route","params","__exports__","render"],"sourceRoot":""}