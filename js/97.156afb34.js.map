{"version":3,"file":"js/97.156afb34.js","mappings":"wMAGOA,MAAM,U,GACJA,MAAM,a,GACJA,MAAM,8B,GACTC,EAAAA,EAAAA,GAAkC,MAA9BD,MAAM,eAAc,SAAK,G,GACxBA,MAAM,0C,GAEFA,MAAM,Q,GACTC,EAAAA,EAAAA,GAAgD,SAAzCC,IAAI,QAAQF,MAAM,cAAa,MAAE,G,GAerCA,MAAM,Q,GACTC,EAAAA,EAAAA,GAA+C,SAAxCC,IAAI,OAAOF,MAAM,cAAa,MAAE,G,GAezCC,EAAAA,EAAAA,GAES,UAFDD,MAAM,yCAAyCG,KAAK,UAAS,QAErE,G,GAEFF,EAAAA,EAAAA,GAAwC,KAArCG,KAAK,IAAIJ,MAAM,eAAc,QAAI,G,wLA5C5CK,EAAAA,EAAAA,IAC0CC,EAAA,CADhCC,OAAQC,EAAAA,UAAWR,MAAM,uBAAnC,C,kBAAyD,IAAgB,EAAhBK,EAAAA,EAAAA,IAAgBI,IACzEJ,EAAAA,EAAAA,IAAgBI,IAAAJ,EAAAA,EAAAA,IAAgBI,M,KADhC,eAEAR,EAAAA,EAAAA,GA8CM,MA9CN,EA8CM,EA7CJA,EAAAA,EAAAA,GA4CM,MA5CN,EA4CM,EA3CJA,EAAAA,EAAAA,GA0CM,MA1CN,EA0CM,CAzCJS,GACAT,EAAAA,EAAAA,GAuCM,MAvCN,EAuCM,EAtCJI,EAAAA,EAAAA,IAoCOM,EAAA,CApCoBC,SAAQC,EAAAA,OAAK,C,kBACtC,EADcC,OAAAA,KAAM,EACpBb,EAAAA,EAAAA,GAcM,MAdN,EAcM,CAbJc,GACAV,EAAAA,EAAAA,IAUQW,EAAA,CATNC,GAAG,WACHC,KAAK,QACLf,KAAK,OACLH,OAAK,SAAC,eAAc,cAEIc,EAAO,Y,WADtBN,EAAAA,KAAKW,S,qCAALX,EAAAA,KAAKW,SAAQC,GAEtBC,YAAY,QACZC,MAAM,kBARR,gCAWAjB,EAAAA,EAAAA,IAAmEkB,EAAA,CAArDL,KAAK,QAAQlB,MAAM,wBAGnCC,EAAAA,EAAAA,GAcM,MAdN,EAcM,CAbJuB,GACAnB,EAAAA,EAAAA,IAUQW,EAAA,CATNC,GAAG,WACHC,KAAK,WACLf,KAAK,WACLkB,YAAY,QACZC,MAAM,WACNtB,OAAK,SAAC,eAAc,cAEIc,EAAO,c,WADtBN,EAAAA,KAAKiB,S,qCAALjB,EAAAA,KAAKiB,SAAQL,IAPxB,gCAWAf,EAAAA,EAAAA,IAAsEkB,EAAA,CAAxDL,KAAK,WAAWlB,MAAM,uBAGtC0B,K,KAjCF,gBAqCAC,WA1CR,IAkDF,OACEC,OAAQ,CAAC,WACTC,OACE,MAAO,CACLC,KAAM,CACJX,SAAU,GACVM,SAAU,IAEZM,WAAW,IAGfC,QAAS,CACPC,QACE,MAAMC,EAAU,uDAChBC,KAAKJ,WAAY,EACjBI,KAAKC,MAAMC,KAAKH,EAAQC,KAAKL,MAC1BQ,MAAMC,IACLC,YAAW,KACTL,KAAKJ,WAAY,IAChB,KACH,MAAM,MAAEU,EAAF,QAASC,GAAYH,EAAIV,KAC/Bc,SAASC,OAAU,aAAYH,cAAkB,IAAII,KAAKH,KAC1DP,KAAKW,QAAQC,KAAK,mBACdR,EAAIV,KAAKmB,SACXb,KAAKc,QAAQC,KAAK,eAAgB,CAChCC,MAAO,UACPC,MAAO,mBAIZC,OAAM,KACLlB,KAAKc,QAAQC,KAAK,eAAgB,CAChCC,MAAO,SACPC,MAAO,6BAKjBE,a,UCtFF,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://petsfamily-vue/./src/views/LoginView.vue","webpack://petsfamily-vue/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\n  <loading :active=\"isLoading\" class=\"fs-1 text-secondary\"><dog-side-icon/>\n  <dog-side-icon/><dog-side-icon/></loading>\n  <div class=\"vh-100\">\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <h1 class=\"text-center\">管理端登入</h1>\n        <div class=\"col-lg-4 py-3 border rounded rounded-5\">\n          <Form v-slot=\"{ errors }\" @submit=\"login\">\n            <div class=\"mb-3\">\n              <label for=\"email\" class=\"form-label\">帳號</label>\n              <Field\n                id=\"username\"\n                name=\"email\"\n                type=\"text\"\n                class=\"form-control\"\n                v-model=\"user.username\"\n                :class=\"{ 'is-invalid': errors['email'] }\"\n                placeholder=\"請輸入帳號\"\n                rules=\"email|required\"\n              >\n              </Field>\n              <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n            </div>\n\n            <div class=\"mb-3\">\n              <label for=\"name\" class=\"form-label\">密碼</label>\n              <Field\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                placeholder=\"請輸入密碼\"\n                rules=\"required\"\n                class=\"form-control\"\n                v-model=\"user.password\"\n                :class=\"{ 'is-invalid': errors['帳號或密碼錯誤'] }\"\n              >\n              </Field>\n              <ErrorMessage name=\"password\" class=\"invalid-feedback\"></ErrorMessage>\n            </div>\n\n            <button class=\"btn btn-lg btn-primary w-100 mt-3 mb-3\" type=\"submit\">\n              登入\n            </button>\n          </Form>\n          <a href=\"#\" class=\"text-center\">忘記密碼</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  inject: ['emitter'],\n  data() {\n    return {\n      user: {\n        username: '',\n        password: '',\n      },\n      isLoading: false,\n    };\n  },\n  methods: {\n    login() {\n      const apiUrl = `${process.env.VUE_APP_API}/admin/signin`;\n      this.isLoading = true;\n      this.$http.post(apiUrl, this.user)\n        .then((res) => {\n          setTimeout(() => {\n            this.isLoading = false;\n          }, 1000);\n          const { token, expired } = res.data;\n          document.cookie = `jhouToken=${token}; expires=${new Date(expired)}`;\n          this.$router.push('/admin/products');\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              style: 'primary',\n              title: '登入成功，轉換頁面中!',\n            });\n          }\n        })\n        .catch(() => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '登入失敗，請確認輸入帳號或密碼正確性!',\n          });\n        });\n    },\n  },\n  mounted() {\n\n  },\n};\n</script>\n","import { render } from \"./LoginView.vue?vue&type=template&id=3c6f3e91\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\六角\\\\sideprojects\\\\petsfamily-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","href","_createVNode","_component_loading","active","$data","_component_dog_side_icon","_hoisted_4","_component_Form","onSubmit","$options","errors","_hoisted_7","_component_Field","id","name","username","$event","placeholder","rules","_component_ErrorMessage","_hoisted_9","password","_hoisted_10","_hoisted_11","inject","data","user","isLoading","methods","login","apiUrl","this","$http","post","then","res","setTimeout","token","expired","document","cookie","Date","$router","push","success","emitter","emit","style","title","catch","mounted","__exports__","render"],"sourceRoot":""}