"use strict";(self["webpackChunkpetsfamily_vue"]=self["webpackChunkpetsfamily_vue"]||[]).push([[338],{5338:function(t,s,e){e.r(s),e.d(s,{default:function(){return C}});var i=e(6252),o=e(3577),c=e(9963);const a={class:"container mt-9 mb-lg-8 mb-6"},d={class:"row"},l={class:"col-lg-6 col-sm-12 col-12 mb-lg-3 mb-md-3 mb-3","data-aos":"fade-right"},u={class:"col-lg-6 col-sm-12 col-12","data-aos":"fade-left"},r={class:"row"},n={class:"col-lg-12 mb-lg-5 mb-md-5 mb-5"},p={class:"mb-3 fs-2"},m={class:"col-lg-12 mb-lg-5 mb-md-5 mb-5"},g={class:"mb-3"},h={class:"mb-3"},b={class:"col-lg-12 mb-lg-5 mb-md-5 mb-5"},v={key:0,class:"fs-3"},_={key:1,class:"col-lg-12 mmb-lg-5 mb-md-5 mb-5"},y={class:"fs-lg-1 text-success text-opacity-50 mb-3"},f={class:"col-lg-12 mb-lg-3 mb-md-3 mb-3"},w={class:"input-group input-group-sm mb-3 d-flex"},k={class:"input-group mb-3 w-50"},$=["value"],L=["disabled"],T=(0,i._)("div",{class:"col-lg-12"},[(0,i._)("p",null,"付款方式: 現金、線上刷卡、貨到付款、超商取貨付款、LINE PAY等")],-1);function x(t,s,e,x,z,I){const j=(0,i.up)("dog-side-icon"),q=(0,i.up)("loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(q,{active:z.isLoading,class:"fs-1 text-secondary"},{default:(0,i.w5)((()=>[(0,i.Wm)(j),(0,i.Wm)(j),(0,i.Wm)(j)])),_:1},8,["active"]),(0,i._)("div",a,[(0,i._)("div",d,[(0,i._)("div",l,[(0,i._)("div",{class:"rounded rounded-3 img-fluid",style:(0,o.j5)([{height:"500px","background-position":"center center","background-size":"cover"},{backgroundImage:`url(${z.product.imageUrl})`}])},null,4)]),(0,i._)("div",u,[(0,i._)("div",r,[(0,i._)("div",n,[(0,i._)("h5",p,(0,o.zw)(z.product.title),1)]),(0,i._)("div",m,[(0,i._)("p",g,(0,o.zw)(z.product.description),1),(0,i._)("p",h,(0,o.zw)(z.product.content),1)]),(0,i._)("div",b,[z.product.price===z.product.origin_price?((0,i.wg)(),(0,i.iD)("p",v," NT"+(0,o.zw)(t.$filters.toThousands(z.product.price)),1)):((0,i.wg)(),(0,i.iD)("div",_,[(0,i._)("del",y," NT"+(0,o.zw)(t.$filters.toThousands(z.product.origin_price)),1),(0,i._)("span",null,"NT"+(0,o.zw)(t.$filters.toThousands(z.product.price)),1)]))]),(0,i._)("div",f,[(0,i._)("div",w,[(0,i._)("div",k,[(0,i.wy)((0,i._)("select",{class:"form-select","onUpdate:modelValue":s[0]||(s[0]=t=>z.qty=t)},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(20,(t=>(0,i._)("option",{value:t,key:`${t}-${z.product}`},(0,o.zw)(t),9,$))),64))],512),[[c.bM,z.qty]]),(0,i._)("button",{type:"button",onClick:s[1]||(s[1]=(0,c.iM)((s=>I.addToCart(t.id,z.qty)),["prevent"])),class:"btn btn-secondary ms-2",disabled:z.isLoadingItem===z.product.id}," 加入購物車",8,L)])])]),T])])])])],64)}var z=e(4051),I={inject:["emitter"],data(){return{products:[],product:[],qty:1,isLoadingItem:"",cartData:{carts:[]},isLoading:!1}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/v2/api/yusyuanjhou/products";this.$http.get(t).then((t=>{this.products=t.data.products}))},getProduct(){const t=`https://vue3-course-api.hexschool.io/v2/api/yusyuanjhou/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{setTimeout((()=>{this.isLoading=!1}),1e3),this.product=t.data.product}))},addToCart(t,s){const e="https://vue3-course-api.hexschool.io/v2/api/yusyuanjhou/cart",i={product_id:t,qty:s};this.isLoadingItem=t,this.$http.post(e,{data:i}).then((t=>{z.Z.emit("get-cart"),this.isLoadingItem="",t.data.success&&this.emitter.emit("push-message",{style:"primary",title:"加入購物車成功"})})).catch((()=>{this.emitter.emit("push-message",{style:"danger",title:"加入購物車失敗"})}))}},mounted(){this.id=this.$route.params.id,this.getProducts(),this.getProduct()}},j=e(3744);const q=(0,j.Z)(I,[["render",x]]);var C=q}}]);
//# sourceMappingURL=338.5702066f.js.map