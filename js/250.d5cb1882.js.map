{"version":3,"file":"js/250.d5cb1882.js","mappings":"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","sources":["webpack://petsfamily-vue/./src/components/Pagination.vue","webpack://petsfamily-vue/./src/components/Pagination.vue?33dc","webpack://petsfamily-vue/./src/views/Front/ProductsView.vue","webpack://petsfamily-vue/./src/views/Front/ProductsView.vue?c50b"],"sourcesContent":["<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination\">\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre}\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\">\n        <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li class=\"page-item\"\n        :class=\"{ active: page === pages.current_page }\"\n        v-for=\"page in pages.total_pages\" :key=\"page + 'page'\">\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(page)\">{{ page }}</a>\n      </li>\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next}\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\">\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: ['pages'],\n  methods: {\n    changePage(page) {\n      this.$emit('change-page', page);\n    },\n  },\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=518b8a78\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\六角\\\\sideprojects\\\\petsfamily-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <loading :active=\"isLoading\" class=\"fs-1 text-secondary\"><dog-side-icon/>\n  <dog-side-icon/><dog-side-icon/></loading>\n<!-- 商品列表 -->\n  <div class=\"mt-9 mb-lg-8 mb-6\">\n    <div class=\"container\">\n      <nav aria-label=\"breadcrumb \">\n        <ol class=\"breadcrumb\">\n          <li class=\"breadcrumb-item\">\n            <router-link to=\"/\">首頁</router-link>\n          </li>\n          <li class=\"breadcrumb-item w-50\" aria-current=\"page\">\n            <router-link to=\"/products\" class=\"active\">商品列表</router-link>\n          </li>\n        </ol>\n      </nav>\n      <div class=\"row\">\n        <div class=\"col-lg-3 col-md-12 col-sm-12 mb-3\">\n          <div class=\"btn-group btn-group-vertical w-100\"\n          role=\"group\" aria-label=\"Basic outlined example\">\n            <button type=\"button\" class=\"btn btn-secondary fw-bold\"\n              @click=\"getCategory('')\">全部</button>\n            <button type=\"button\" class=\"btn btn-outline-primary text-dark fw-bold\"\n              @click=\"getCategory('狗')\">狗狗</button>\n            <button type=\"button\" class=\"btn btn-outline-primary text-dark fw-bold\"\n              @click=\"getCategory('貓')\">貓咪</button>\n            <button type=\"button\" class=\"btn btn-outline-primary text-dark fw-bold\"\n              @click=\"getCategory('小寵物')\">小寵物</button>\n            <button type=\"button\" class=\"btn btn-outline-primary text-dark fw-bold\"\n              @click=\"getCategory('保健')\">保健</button>\n            <button type=\"button\" class=\"btn btn-outline-primary text-dark fw-bold\"\n              @click=\"getCategory('拍攝')\">拍攝</button>\n          </div>\n        </div>\n        <div class=\"col-lg-9 col-md-12 col-sm-12\" data-aos=\"fade-up\">\n          <div class=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4\">\n            <div class=\"col\" v-for=\"item in products\" :key=\"item.id\">\n              <router-link :to=\"`/product/${item.id}`\" class=\"router-link-active text-dark\">\n                <div class=\"card border rounded rounded-3 mb-3\n                border-primary bg-success bg-opacity-25  position-relative\">\n                <div class=\"rounded rounded-3 card-img\" style=\"height: 200px;\n                  background-position: center center; background-size: cover;\"\n                  :style=\"{\n                    backgroundImage: `url(${item.imageUrl})`\n                  }\">\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"d-flex justify-content-between\">\n                      <p class=\"card-title fs-5\">{{ item.title }}</p>\n                    </div>\n                    <p class=\"card-text\">{{ item.description}}</p>\n                    <div class=\"d-flex justify-content-end\">\n                      <p class=\"card-text d-flex justify-content-end\"\n                        v-if=\"item.price === item.origin_price\">\n                        NT{{ $filters.toThousands(item.price) }}</p>\n                      <div v-else>\n                        <del class=\"fs-6 text-success text-opacity-50\">\n                          NT{{ $filters.toThousands(item.origin_price) }}</del>\n                          <span>NT{{ $filters.toThousands(item.price) }}</span>\n                      </div>\n                    </div>\n                    <div class=\"d-flex justify-content-end\">\n                      <router-link :to=\"`/product/${item.id}`\"\n                      class=\"btn btn-outline-primary text-dark\"\n                      >詳細資訊</router-link>\n                      <button type=\"button\" @click.prevent=\"addToCart(item.id)\"\n                      class=\"btn btn-secondary ms-2\"\n                      :disabled=\"isLoadingItem === item.id\"\n                      >\n                      加入購物車</button>\n                    </div>\n                  </div>\n                </div>\n              </router-link>\n            </div>\n          </div>\n          <pagination data-aos=\"fade-up\"\n            :pages=\"pagination\" @change-page=\"getProducts\">\n          </pagination>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport pagination from '@/components/Pagination.vue';\nimport emitter from '@/assets/js/emitter';\n\nexport default {\n  inject: ['emitter'],\n  components: {\n    pagination,\n  },\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      qty: 1,\n      cartData: {\n        carts: [],\n      },\n      isLoadingItem: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    getProducts(page = 1) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?page=${page}`;\n      this.isLoading = true;\n      this.$http.get(url)\n        .then((res) => {\n          setTimeout(() => {\n            this.isLoading = false;\n          }, 1000);\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n        });\n    },\n    getCategory(category, page = 1) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?category=${category}&page=${page}`;\n      this.isLoading = true;\n      this.$http.get(url)\n        .then((res) => {\n          setTimeout(() => {\n            this.isLoading = false;\n          }, 1000);\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n        });\n    },\n    getCart() {\n      const apiUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(apiUrl)\n        .then((res) => {\n          this.cartData = res.data.data;\n        });\n    },\n    addToCart(id, qty = 1) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      const data = {\n        product_id: id,\n        qty,\n      };\n      this.isLoadingItem = id;\n      this.$http.post(url, { data })\n        .then((res) => {\n          this.isLoadingItem = '';\n          emitter.emit('get-cart');\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              style: 'primary',\n              title: '加入購物車成功',\n            });\n          }\n        })\n        .catch(() => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '加入購物車失敗',\n          });\n        });\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=c0d0b974\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\六角\\\\sideprojects\\\\petsfamily-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","href","_hoisted_3","_hoisted_6","_createElementBlock","disabled","$props","has_pre","_Fragment","_renderList","total_pages","page","active","current_page","key","onClick","$options","_hoisted_5","has_next","props","methods","changePage","this","$emit","__exports__","render","role","_createVNode","_component_loading","$data","_component_dog_side_icon","_component_router_link","to","type","item","id","style","imageUrl","_toDisplayString","title","description","price","origin_price","_ctx","toThousands","_hoisted_21","_hoisted_25","_component_pagination","pages","onChangePage","inject","components","pagination","data","products","qty","cartData","carts","isLoadingItem","isLoading","getProducts","url","$http","get","then","res","setTimeout","getCategory","category","getCart","apiUrl","addToCart","product_id","post","emitter","success","emit","catch","mounted"],"sourceRoot":""}