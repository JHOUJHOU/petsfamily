{"version":3,"file":"js/746.d5142d75.js","mappings":"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","sources":["webpack://petsfamily-vue/./src/views/Front/PayOrderView.vue","webpack://petsfamily-vue/./src/views/Front/PayOrderView.vue?ca92"],"sourcesContent":["<template>\n  <loading :active=\"isLoading\" class=\"fs-1 text-secondary\"><dog-side-icon/>\n  <dog-side-icon/><dog-side-icon/></loading>\n  <div class=\"container mt-9 mb-lg-8 mb-6\">\n    <div>\n      <p v-if=\"order.is_paid\" class=\"fs-1 fs-md-6 text-center mb-4 mb-md-4\">訂單結帳完成頁面</p>\n      <p v-else class=\"fs-1 fs-md-6 text-center mb-4 mb-md-4\">結帳頁面</p>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-12 col-md-6 col-lg-6\">\n        <p class=\"fs-4 fs-md-6\">訂單明細</p>\n        <table class=\"table table-striped align-middle\">\n          <thead>\n            <tr>\n              <th class=\"text-start\">商品照片</th>\n              <th class=\"text-start\">商品名稱</th>\n              <th class=\"text-center\">數量</th>\n              <th class=\"text-center\">單項金額</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in products\" :key=\"item.id\">\n              <td class=\"text-start\">\n                <div class=\"rounded rounded-3\" style=\"height: 100px; width: 100px;\n                  background-position: center center; background-size: cover;\"\n                  :style=\"{\n                    backgroundImage: `url(${item.product.imageUrl})`\n                  }\"\n                ></div>\n              </td>\n              <td class=\"text-start\">\n                {{ item.product.title }}\n              </td>\n              <td class=\"text-center\">\n                {{ item.qty }}\n              </td>\n              <td class=\"text-center\">\n                {{ $filters.toThousands(item.product.price) }}元\n              </td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td colspan=\"4\" class=\"text-end py-5 pe-5\">\n                總計 {{ $filters.toThousands(order.total) }} 元\n              </td>\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n      <div class=\"col-12 col-md-6 col-lg-6\">\n        <p class=\"fs-4 fs-md-6\">訂單資訊</p>\n        <table class=\"table table-striped align-middle\">\n          <thead>\n            <tr>\n              <th class=\"text-start\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>訂單狀態</td>\n              <td v-if=\"order.is_paid\" class=\"text-danger\">已付款</td>\n              <td v-else>未付款</td>\n            </tr>\n            <tr>\n              <td>訂單總額</td>\n              <td>{{ $filters.toThousands(order.total) }}元</td>\n            </tr>\n            <tr>\n              <td>訂單編號</td>\n              <td>{{ order.id }}</td>\n            </tr>\n            <tr>\n              <td>收件人姓名</td>\n              <td>{{ user.name }}</td>\n            </tr>\n            <tr>\n              <td>收件人信箱</td>\n              <td>{{ user.email  }}</td>\n            </tr>\n            <tr>\n              <td>收件人信箱</td>\n              <td>{{ user.tel  }}</td>\n            </tr>\n            <tr>\n              <td>收件人地址</td>\n              <td>{{ user.address  }}</td>\n            </tr>\n            <tr>\n              <td>備註</td>\n              <td>{{ order.message }}</td>\n            </tr>\n          </tbody>\n        </table>\n        <div>\n          <div v-if=\"order.is_paid\">\n          </div>\n          <div v-else class=\"row\">\n            <div class=\"col-4\">\n              <p class=\"fs-4 fs-md-6 text-center\">付款方式</p>\n            </div>\n            <div class=\"col-4\">\n              <button @click=\"postPay\" type=\"button\" class=\"btn btn-primary w-100\">現金</button>\n            </div>\n            <div class=\"col-4\">\n              <button @click=\"postPay\" type=\"button\" class=\"btn btn-secondary w-100\">信用卡</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/assets/js/emitter';\n\nexport default {\n  inject: ['emitter'],\n  data() {\n    return {\n      order: {},\n      user: {},\n      products: {},\n      is_paid: false,\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    getOrder() {\n      this.orderId = this.$route.params.id;\n      const apiUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n      this.isLoading = true;\n      this.$http.get(apiUrl)\n        .then((res) => {\n          setTimeout(() => {\n            this.isLoading = false;\n          }, 1000);\n          this.order = res.data.order;\n          this.user = res.data.order.user;\n          this.products = res.data.order.products;\n        });\n    },\n    postPay() {\n      this.orderId = this.$route.params.id;\n      const apiUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n      this.isLoading = true;\n      this.$http.post(apiUrl)\n        .then((res) => {\n          setTimeout(() => {\n            this.isLoading = false;\n          }, 1000);\n          this.getOrder();\n          emitter.emit('get-cart');\n          if (res.data.success) {\n            this.emitter.emit('push-message', {\n              style: 'primary',\n              title: '結帳成功',\n            });\n          }\n        })\n        .catch(() => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '結帳失敗',\n          });\n        });\n    },\n  },\n  mounted() {\n    this.getOrder();\n  },\n};\n</script>\n","import { render } from \"./PayOrderView.vue?vue&type=template&id=2d20e090\"\nimport script from \"./PayOrderView.vue?vue&type=script&lang=js\"\nexport * from \"./PayOrderView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\六角\\\\sideprojects\\\\petsfamily-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","colspan","_createVNode","_component_loading","active","$data","_component_dog_side_icon","is_paid","_createElementBlock","_hoisted_6","_hoisted_8","_Fragment","_renderList","item","key","id","style","product","imageUrl","_toDisplayString","title","qty","_ctx","toThousands","price","total","_hoisted_15","_hoisted_17","_hoisted_18","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","name","_hoisted_24","email","_hoisted_25","tel","_hoisted_26","address","_hoisted_27","message","_hoisted_28","_hoisted_30","onClick","$options","type","inject","data","order","user","products","orderId","isLoading","methods","getOrder","this","$route","params","apiUrl","$http","get","then","res","setTimeout","postPay","post","emitter","success","emit","catch","mounted","__exports__","render"],"sourceRoot":""}